<!DOCTYPE html>
<html lang="en" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- SEO & Identity -->
    <title>Resonote - AI Sheet Music Scanner & ABC Notation Converter</title>
    <meta name="description" content="Transform sheet music into playable ABC notation instantly with Resonote. Professional AI Optical Music Recognition (OMR) powered by Gemini 3 Pro Vision. Digitize, edit, and listen to scores online." />
    <meta name="keywords" content="sheet music scanner, optical music recognition, OMR online, AI music transcription, image to ABC notation, Gemini AI music, digitize sheet music, play sheet music, music OCR, ABC notation editor, Resonote, IRedDragonICY" />
    <meta name="author" content="IRedDragonICY (Mohammad Farid Hendianto)" />
    <meta name="google-site-verification" content="SeU7j1p_RghwijQK39HcGyU9L5su7-xhodHrPXhE2Xs" />
    <meta name="theme-color" content="#0F0F0F" />
    <link rel="canonical" href="https://resonoteai.vercel.app/" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://resonoteai.vercel.app/" />
    <meta property="og:title" content="Resonote - AI Sheet Music Scanner & ABC Notation Converter" />
    <meta property="og:description" content="Transform sheet music into playable ABC notation instantly with Resonote. Professional AI OMR powered by Gemini 3 Pro Vision." />
    <meta property="og:site_name" content="Resonote" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://resonoteai.vercel.app/" />
    <meta name="twitter:title" content="Resonote - AI Sheet Music Scanner" />
    <meta name="twitter:description" content="Transform sheet music into playable ABC notation instantly with Resonote. Professional AI OMR powered by Gemini 3 Pro Vision." />

    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Crect width='32' height='32' rx='10' fill='%23A8C7FA'/%3E%3Cpath d='M20 10V6h-7v12.5c0 1.93-1.57 3.5-3.5 3.5S6 20.43 6 18.5 7.57 15 9.5 15c.47 0 .91.1 1.32.26V10h9z' fill='%23062E6F' transform='translate(2, 2)'/%3E%3Cpath d='M26 4l-1.5 3L21.5 8.5 24.5 10 26 13l1.5-3 3-1.5-3-1.5z' fill='%23062E6F'/%3E%3C/svg%3E" />
    
    <!-- Google Fonts: Inter for UI, Roboto Mono for Code -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">
    <!-- Material Symbols Rounded (Thick style for Material You) -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            fontFamily: {
              sans: ['Inter', 'sans-serif'],
              mono: ['Roboto Mono', 'monospace'],
            },
            colors: {
              md: {
                sys: {
                  background: 'rgb(var(--md-sys-background) / <alpha-value>)',
                  surface: 'rgb(var(--md-sys-surface) / <alpha-value>)',
                  surfaceVariant: 'rgb(var(--md-sys-surface-variant) / <alpha-value>)',
                  outline: 'rgb(var(--md-sys-outline) / <alpha-value>)',
                  primary: 'rgb(var(--md-sys-primary) / <alpha-value>)',
                  onPrimary: 'rgb(var(--md-sys-on-primary) / <alpha-value>)',
                  secondary: 'rgb(var(--md-sys-secondary) / <alpha-value>)',
                  tertiary: 'rgb(var(--md-sys-tertiary) / <alpha-value>)',
                  error: 'rgb(var(--md-sys-error) / <alpha-value>)',
                  onSurface: 'rgb(var(--md-sys-on-surface) / <alpha-value>)',
                }
              }
            }
          }
        }
      }
    </script>
    
    <!-- MP3 Encoder Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lamejs/1.2.1/lame.min.js"></script>

    <style>
      :root {
        /* Light Theme Tokens (RGB for Tailwind Opacity) */
        --md-sys-background: 249 249 249;
        --md-sys-surface: 255 255 255;
        --md-sys-surface-variant: 240 240 240;
        --md-sys-outline: 116 119 117;
        --md-sys-primary: 11 87 208;
        --md-sys-on-primary: 255 255 255;
        --md-sys-secondary: 68 71 70;
        --md-sys-tertiary: 30 30 30;
        --md-sys-error: 186 26 26;
        --md-sys-on-surface: 30 30 30;
        
        --sheet-music-bg: #FFFFFF;
        --sheet-music-ink: #000000;
        --scrollbar-track: #F0F0F0;
        --scrollbar-thumb: #C4C7C5;
      }

      .dark {
        /* Dark Theme Tokens (RGB) */
        --md-sys-background: 15 15 15;
        --md-sys-surface: 30 30 30;
        --md-sys-surface-variant: 45 45 45;
        --md-sys-outline: 68 71 70;
        --md-sys-primary: 168 199 250;
        --md-sys-on-primary: 6 46 111;
        --md-sys-secondary: 196 199 197;
        --md-sys-tertiary: 224 226 224;
        --md-sys-error: 255 180 171;
        --md-sys-on-surface: 227 227 227;

        --sheet-music-bg: #FFFFFF; 
        --sheet-music-ink: #000000;
        --scrollbar-track: #1E1E1E;
        --scrollbar-thumb: #444;
      }

      body {
        background-color: rgb(var(--md-sys-background));
        color: rgb(var(--md-sys-on-surface));
        transition: background-color 0.3s ease, color 0.3s ease;
      }
      .material-symbols-rounded {
        font-variation-settings: 'FILL' 0, 'wght' 600, 'GRAD' 0, 'opsz' 24;
      }
      /* Custom Scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
      }
      ::-webkit-scrollbar-track {
        background: var(--scrollbar-track); 
      }
      ::-webkit-scrollbar-thumb {
        background: var(--scrollbar-thumb); 
        border-radius: 4px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: rgb(var(--md-sys-outline)); 
      }

      /* Editor Line Sync - CRITICAL FOR GUTTER ALIGNMENT */
      .editor-sync-font {
        font-family: 'Roboto Mono', monospace;
        font-size: 13px;
        line-height: 24px !important; /* Fixed pixel height ensures 1:1 match */
        tab-size: 4;
      }
      
      /* ABCJS Custom Styling */
      /* Use variables for flexibility, defaulting to black on white for readability usually */
      #paper {
        color: var(--sheet-music-ink);
      }
      #paper svg text, #paper svg tspan, #paper svg path {
        fill: var(--sheet-music-ink) !important;
      }
      #paper svg path[stroke], #paper svg line, #paper svg .abcjs-staff, #paper svg .abcjs-staff-extra, #paper svg .abcjs-beam, #paper svg .abcjs-bar {
        stroke: var(--sheet-music-ink) !important;
        fill: none !important;
      }
      
      #paper .abcjs-note {
        fill: var(--sheet-music-ink) !important;
      }

      /* Cursor and Highlight */
      #paper svg .abcjs-highlight {
        fill: #0a9ecc !important;
      }
      
      #paper svg .abcjs-cursor {
        stroke: #0a9ecc !important;
        stroke-width: 2px;
        fill: none !important;
      }

      /* ABCJS Audio Player CSS */
      .abcjs-inline-audio {
        height: 48px; 
        padding: 0 10px;
        border-radius: 8px;
        background-color: rgb(var(--md-sys-surface-variant));
        border: 1px solid rgb(var(--md-sys-outline) / 0.2);
        display: flex;
        align-items: center;
        box-sizing: border-box;
        width: 100%;
        color: rgb(var(--md-sys-on-surface));
      }

      .abcjs-inline-audio.abcjs-disabled {
        opacity: 0.5;
        pointer-events: none;
      }

      .abcjs-inline-audio .abcjs-btn {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 44px;
        height: 44px;
        margin-right: 4px;
        padding: 8px;
        background: none !important;
        border: none;
        box-sizing: border-box;
        border-radius: 4px;
        cursor: pointer;
      }
      
      .abcjs-inline-audio .abcjs-btn:hover {
        background-color: rgba(128, 128, 128, 0.1) !important;
      }

      .abcjs-btn g {
        fill: rgb(var(--md-sys-on-surface));
        stroke: rgb(var(--md-sys-on-surface));
      }

      .abcjs-inline-audio .abcjs-midi-selection.abcjs-pushed,
      .abcjs-inline-audio .abcjs-midi-loop.abcjs-pushed,
      .abcjs-inline-audio .abcjs-midi-reset.abcjs-pushed {
        background-color: rgb(var(--md-sys-outline)) !important;
        color: rgb(var(--md-sys-primary));
      }
      
      .abcjs-inline-audio .abcjs-midi-loop.abcjs-pushed g {
        fill: rgb(var(--md-sys-primary));
        stroke: rgb(var(--md-sys-primary));
      }

      .abcjs-inline-audio .abcjs-midi-start .abcjs-pause-svg,
      .abcjs-inline-audio .abcjs-midi-start .abcjs-loading-svg,
      .abcjs-inline-audio .abcjs-midi-start.abcjs-pushed .abcjs-play-svg,
      .abcjs-inline-audio .abcjs-midi-start.abcjs-loading .abcjs-play-svg {
        display: none;
      }

      .abcjs-inline-audio .abcjs-midi-start.abcjs-pushed .abcjs-pause-svg {
        display: block;
      }

      /* Progress Bar Container */
      .abcjs-inline-audio .abcjs-midi-progress-background {
        background-color: rgb(var(--md-sys-surface));
        height: 12px;
        border-radius: 6px;
        margin: 0 16px;
        position: relative;
        flex: 1;
        padding: 0;
        box-sizing: border-box;
        cursor: pointer;
        border: 1px solid rgb(var(--md-sys-outline) / 0.3);
      }

      /* Progress Indicator (The Handle) */
      .abcjs-inline-audio .abcjs-midi-progress-indicator {
        width: 16px;
        height: 16px;
        margin-left: -8px; 
        background-color: rgb(var(--md-sys-primary));
        position: absolute;
        display: block;
        border-radius: 50%;
        top: -3px; 
        left: 0;
        box-sizing: border-box;
        box-shadow: 0 0 4px rgba(0,0,0,0.5);
        z-index: 10;
      }

      .abcjs-inline-audio .abcjs-midi-clock {
        margin: 0 12px;
        display: inline-block;
        font-family: 'Roboto Mono', monospace;
        font-size: 14px;
        font-weight: 500;
        box-sizing: border-box;
        color: rgb(var(--md-sys-on-surface));
        min-width: 45px;
        text-align: center;
      }

      .abcjs-inline-audio .abcjs-tempo-wrapper {
        font-size: 12px;
        color: rgb(var(--md-sys-secondary));
        box-sizing: border-box;
        display: flex;
        align-items: center;
        gap: 4px;
      }

      .abcjs-inline-audio .abcjs-midi-tempo {
        border-radius: 4px;
        border: 1px solid rgb(var(--md-sys-outline) / 0.3);
        margin: 0 4px;
        width: 50px;
        padding: 2px 4px;
        box-sizing: border-box;
        background-color: rgb(var(--md-sys-surface));
        color: rgb(var(--md-sys-on-surface));
        font-family: 'Roboto Mono', monospace;
        text-align: center;
      }
      
      .abcjs-inline-audio .abcjs-midi-tempo:focus {
        outline: 1px solid rgb(var(--md-sys-primary));
        border-color: rgb(var(--md-sys-primary));
      }

      .abcjs-inline-audio .abcjs-loading .abcjs-loading-svg {
        display: inherit;
      }

      .abcjs-inline-audio .abcjs-loading {
        outline: none;
        animation: abcjs-spin 1s linear infinite;
      }
      
      .abcjs-inline-audio .abcjs-loading-svg circle {
        stroke: rgb(var(--md-sys-primary));
      }

      @keyframes abcjs-spin {
        from {transform:rotate(0deg);}
        to {transform:rotate(360deg);}
      }

      .abcjs-css-warning {
        display: none;
      }
    </style>
  <script type="importmap">
{
  "imports": {
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.30.0",
    "react/": "https://aistudiocdn.com/react@^19.2.0/",
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "react-dom/client": "https://aistudiocdn.com/react-dom@^19.2.0/client",
    "react-dom": "https://aistudiocdn.com/react-dom@^19.2.0",
    "abcjs": "https://aistudiocdn.com/abcjs@^6.5.2",
    "jspdf": "https://esm.sh/jspdf@2.5.1",
    "pdfjs-dist": "https://esm.sh/pdfjs-dist@3.11.174",
    "docx": "https://esm.sh/docx@8.5.0",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
    "@vercel/analytics/react": "https://esm.sh/@vercel/analytics@1.5.0/react?external=react,react-dom",
    "@vercel/analytics/": "https://aistudiocdn.com/@vercel/analytics@^1.5.0/",
    "@vercel/node": "https://aistudiocdn.com/@vercel/node@^5.5.13"
  }
}
</script>
</head>
  <body>
    <div id="root"></div>
    <script type="module" src="./index.tsx"></script>
  </body>
</html>